@model IQueryable<Ticket>

@{
    const string controllerName = "Tickets";
}

@foreach (var item in Model)
{
    <tr>
        <td class="align-middle">@item.Viewer</td>
        <td class="align-middle">@item.Seat?.SportEvent</td>
        <td class="align-middle">@item.Seat?.Name</td>
        <td class="align-middle">@item.Seat?.Price</td>
        <td class="align-middle">@item.Employee</td>
        <td class="align-middle">@item.DateTime.ToString("dd.MM.yyyy HH:mm")</td>
        <td class="align-middle">
            <button class="btn btn-secondary btn-sm" onclick="editItem('@controllerName', '@item.Id')"
                    data-toggle="tooltip" data-placement="top" title="Редактировать">
                <i class="fa fa-pencil" aria-hidden="true"></i>
            </button>
            @if (User.IsInRole("Admin"))
            {
                <button class="btn btn-danger btn-sm" onclick="deleteItem('@controllerName', '@item.Id')"
                        data-toggle="tooltip" data-placement="top" title="Удалить">
                    <i class="fa fa-trash" aria-hidden="true"></i>
                </button>
            }
        </td>
    </tr>
}